<!DOCTYPE html>
<html>
<body>
  <section class="page container">
    <script type="text/x-jquery-tmpl" id="docgen-huoneistot-table-template">

      <div class="form-table huoneistot-table" data-bind="attr: {id: 'huoneistot'}">

        <div>
          <h3 class="form-label" data-bind="ltext: groupLabel"></h3>
          <span data-bind="component: { name: 'help-toggle', params: {lhtml: 'huoneistotTable.help' } }"></span>
        </div>
        

        <!-- ko if: groupHelp -->
        <span class="group-help-text" data-bind="ltext: groupHelp"></span>
        <!-- /ko -->

        <table data-bind="attr: {'class': _.last(path) + '-table'}">
          <thead>
            <tr data-bind="foreach: columnHeaders">
              <th>
                <span data-bind="ltext: name"></span>
                <span data-bind="visible: required">*</span>
              </th>
            </tr>
          </thead>
          <tbody data-bind="foreach: rows">
            <tr data-bind="attr: { 'id': 'huoneistot-row-' + index , 'data-test-id': $component.schemaName + '-row-' + index}">
              <!--Huoneiston tyyppi-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[0].showMessagePanel, message: info[0].errorMessage"></message-panel>
                    <select data-bind="options: schema.body[0].body,
                                       optionsText: $component.selectOptionsTextFn('huoneistoTyyppi'),
                                       optionsValue: 'name',
                                       css: info[0].css(),
                                       event: info[0].events,
                                       value: model.huoneistoTyyppi.model,
                                       valueAllowUnset: true,
                                       optionsCaption: loc('selectone'),
                                       disable: $component.disabled() || !model.muutostapa.model(),
                                       attr: {'data-test-id': path.join('.')}"
                            class="dropdown form-input short">
                    </select>
                  </div>
                </span>
              </td>

              <!--Porras-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[1].showMessagePanel, message: info[1].errorMessage"></message-panel>
                      <input type="text"
                             data-bind="textInput: model.porras.model,
                                        disable: $component.disabled() || !model.muutostapa.model(),
                                        css: info[1].css(),
                                        event: info[1].events,
                                        attr: { 'maxlength': schema.body[1]['max-len'] || LUPAPISTE.config.inputMaxLength,
                                                'data-test-id': path.join('.') + '.porras'}"
                             class="form-input tiny"/>
                    </span>
                  </div>
                </span>
              </td>

              <!--Huoneiston numero-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[2].showMessagePanel, message: info[2].errorMessage"></message-panel>
                      <input type="text"
                             data-bind="textInput: model.huoneistonumero.model,
                                        disable: $component.disabled() || !model.muutostapa.model(),
                                        css: info[2].css(),
                                        event: info[2].events,
                                        attr: { 'maxlength': schema.body[2]['max-len'] || LUPAPISTE.config.inputMaxLength,
                                                'data-test-id': path.join('.') + '.huoneistonumero'}"
                             class="form-input tiny"/>
                    </span>
                  </div>
                </span>
              </td>

              <!--Jakokirjain-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[3].showMessagePanel, message: info[3].errorMessage"></message-panel>
                      <input type="text"
                             data-bind="textInput: model.jakokirjain.model,
                                        disable: $component.disabled() || !model.muutostapa.model(),
                                        css: info[3].css(),
                                        event: info[3].events,
                                        attr: { 'maxlength': schema.body[3]['max-len'] || LUPAPISTE.config.inputMaxLength,
                                                'data-test-id': path.join('.') + '.jakokirjain' }"
                             class="form-input tiny"/>
                    </span>
                  </div>
                </span>
              </td>

              <!--Huoneluku-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[4].showMessagePanel, message: info[4].errorMessage"></message-panel>
                      <input type="text"
                             data-bind="textInput: model.huoneluku.model,
                                        disable: $component.disabled() || !model.muutostapa.model(),
                                        css: info[4].css(),
                                        event: info[4].events,
                                        attr: { 'maxlength': schema.body[4]['max-len'] || LUPAPISTE.config.inputMaxLength,
                                                'max': schema.body[4].max,
                                                'min': schema.body[4].min,
                                                'data-test-id': path.join('.') + '.huoneluku' }"
                             class="form-input tiny"/>
                    </span>
                  </div>
                </span>
              </td>

              <!--Keittion tyyppi-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[5].showMessagePanel, message: info[5].errorMessage"></message-panel>
                    <select data-bind="options: schema.body[5].body,
                                       optionsText: $component.selectOptionsTextFn('keittionTyyppi'),
                                       optionsValue: 'name',
                                       value: model.keittionTyyppi.model,
                                       valueAllowUnset: true,
                                       optionsCaption: loc('selectone'),
                                       disable: $component.disabled() || !model.muutostapa.model(),
                                       css: info[5].css(),
                                       event: info[5].events,
                                       attr: {'data-test-id': path.join('.') + '.keittio'}"
                            class="dropdown form-input short">
                    </select>
                  </div>
                </span>
              </td>

              <!--Huoneistoala m2-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[6].showMessagePanel, message: info[6].errorMessage"></message-panel>
                      <input type="text"
                             data-bind="textInput: model.huoneistoala.model,
                                        disable: $component.disabled() || !model.muutostapa.model(),
                                        css: info[6].css(),
                                        event: info[6].events,
                                        attr: { 'maxlength': schema.body[6]['max-len'] || LUPAPISTE.config.inputMaxLength,
                                                'max': schema.body[6].max,
                                                'min': schema.body[6].min,
                                                'data-test-id': path.join('.') + '.huoneistoala' }"
                             class="form-input tiny"/>
                    </span>
                  </div>
                </span>
              </td>

              <!--WC-->
              <td>
                <div class="checkbox-wrapper">
                  <input type="checkbox"
                         data-bind="checked: model.WCKytkin.model,
                                    disable: $component.disabled() || !model.muutostapa.model(),
                                    css: info[7].css(),
                                    event: info[7].events,
                                    attr: {'id': $component.documentId + '-huoneistot-wc-' + $index()}">
                  <label data-bind="attr: {'for': $component.documentId + '-huoneistot-wc-' + $index()}" class="inline-label checkbox-label"></label>
                </div>
              </td>

              <!--Amme/Suihku-->
              <td>
                <div class="checkbox-wrapper">
                  <input type="checkbox"
                         data-bind="checked: model.ammeTaiSuihkuKytkin.model,
                                    disable: $component.disabled() || !model.muutostapa.model(),
                                    css: info[8].css(),
                                    event: info[8].events,
                                    attr: {'id': $component.documentId + '-huoneistot-amme-tai-suihku-' + $index()}">
                  <label data-bind="attr: {'for': $component.documentId + '-huoneistot-amme-tai-suihku-' + $index()}" class="inline-label checkbox-label"></label>
                </div>
              </td>

              <!--Sauna-->
              <td>
                <div class="checkbox-wrapper">
                  <input type="checkbox"
                         data-bind="checked: model.saunaKytkin.model,
                                    disable: $component.disabled() || !model.muutostapa.model(),
                                    css: info[9].css(),
                                    event: info[9].events,
                                    attr: {'id': $component.documentId + '-huoneistot-sauna-' + $index()}">
                  <label data-bind="attr: {'for': $component.documentId + '-huoneistot-sauna-' + $index()}" class="inline-label checkbox-label"></label>
                </div>
              </td>

              <!--Parveke/terassi-->
              <td>
                <div class="checkbox-wrapper">
                  <input type="checkbox"
                         data-bind="checked: model.parvekeTaiTerassiKytkin.model,
                                    disable: $component.disabled() || !model.muutostapa.model(),
                                    css: info[10].css(),
                                    event: info[10].events,
                                    attr: {'id': $component.documentId + '-huoneistot-parveke-tai-terassi-' + $index()}">
                  <label data-bind="attr: {'for': $component.documentId + '-huoneistot-parveke-tai-terassi-' + $index()}" class="inline-label checkbox-label"></label>
                </div>
              </td>

              <!--Lammin vesi-->
              <td>
                <div class="checkbox-wrapper">
                  <input type="checkbox"
                         data-bind="checked: model.lamminvesiKytkin.model,
                                    disable: $component.disabled() || !model.muutostapa.model(),
                                    css: info[11].css(),
                                    event: info[11].events,
                                    attr: {'id': $component.documentId + '-huoneistot-lammin-vesi-' + $index()}">
                  <label data-bind="attr: {'for': $component.documentId + '-huoneistot-lammin-vesi-' + $index()}" class="inline-label checkbox-label"></label>
                </div>
              </td>

              <!--Huoneiston muutos-->
              <td>
                <span class="form-entry form-input">
                  <div class="inline">
                    <message-panel params="class: 'errorPanel', show: info[12].showMessagePanel, message: info[12].errorMessage"></message-panel>
                    <select data-bind="options: schema.body[12].body,
                                       optionsText: $component.selectOptionsTextFn('muutostapa'),
                                       optionsValue: 'name',
                                       value: model.muutostapa.model,
                                       valueAllowUnset: true,
                                       optionsCaption: loc('selectone'),
                                       disable: $component.disabled(),
                                       css: info[12].css(),
                                       event: info[12].events,
                                       attr: {'data-test-id': path.join('.') + '.muutostapa'}"
                            class="dropdown form-input short">
                    </select>
                  </div>
                </span>
              </td>

              <!--Poista-->
              <td class="action-column">
                <i class="lupicon-remove primary" data-bind="click: $component.removeGroup,
                                                             visible: $component.groupsRemovable($data.schema),
                                                             attr: {'data-test-class': 'delete-schemas.' + $data.schema.name}"></i>
              </td>

            </tr>
          </tbody>
        </table>
      </div>

      <div class="button-group" data-bind="visible: updatable()">
        <span data-bind="component: { name: 'docgen-button',
                                     params: { id: $component.documentId + '-huoneistot-append-button',
                                               className: 'positive',
                                               icon: 'lupicon-circle-plus',
                                               label: appendLabel,
                                               clickFn: addGroup,
                                               testId: schemaName + '-append-button' }}">
        </span>
        <span data-bind="component: { name: 'docgen-button',
                                     params: { id: $component.documentId + '-huoneistot-copy-button',
                                               className: 'secondary',
                                               icon: 'lupicon-circle-plus',
                                               label: copyLabel,
                                               clickFn: duplicateLastGroup,
                                               testId: schemaName + '-copy-button' }}">
        </span>
      </div>

    </script>
  </section>
</body>
</html>