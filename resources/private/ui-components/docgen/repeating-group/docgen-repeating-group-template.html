<!DOCTYPE html>
<html>
<body>
  <section class="page container">
    <script type="text/x-jquery-tmpl" id="docgen-repeating-group-template">
      <div data-bind="foreach: groups">

        <div class="form-group" data-bind="attr: {id: $component.groupId + '-row-' + index}">

          <div class="group-buttons">
            <span data-bind="component: { name: 'docgen-button',
                                         params: { id: $component.groupId + '-row-' + index + '-remove-button', 
                                                   className: 'secondary is-right', 
                                                   icon: 'lupicon-remove', 
                                                   label: 'remove',
                                                   index: index,
                                                   clickFn: $parent.removeGroup }},
                             visible: $component.groupsRemovable">
            </span>
          </div>

          <label class="form-label form-label-group" data-bind="ltext: $component.groupLabel"></label>
          
          <!-- ko if: $component.groupHelp -->
          <span class="group-help-text" data-bind="ltext: $component.groupHelp"></span>
          <!-- /ko -->

          <div data-bind="component: { name: 'docgen-group',
                                       index: index,
                                       params: $data }">
          </div>
        </div>
      </div>
        
      <div class="button-group" data-bind="visible: updatable">
        <span data-bind="component: { name: 'docgen-button',
                                      params: { id: groupId + '-append-button', 
                                                className: 'positive', 
                                                icon: 'lupicon-circle-plus', 
                                                label: appendLabel, 
                                                clickFn: addGroup }}">
        </span>
        <span data-bind="component: { name: 'docgen-button',
                                      params: { id: groupId + '-copy-button', 
                                                className: 'secondary', 
                                                icon: 'lupicon-circle-plus', 
                                                label: copyLabel, 
                                                clickFn: duplicateLastGroup }}">
        </span>
      </div>

    </script>
  </section>
</body>
</html>
