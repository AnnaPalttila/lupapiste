<!DOCTYPE html>
<html>
<body>
  <section class="page container">
    <script type="text/html" id="applications-search-template">
      <!-- ko ifnot: noApplications() -->
      <div data-bind="component: {name: 'applications-search-filter', params: {dataProvider: dataProvider}}" class="applications-search-component"></div>
      <div data-bind="component: {name: 'applications-search-results', params: {dataProvider: dataProvider, gotResults: gotResults}}" class="applications-search-component"></div>
      <!-- ko if: gotResults() -->
      <div data-bind="component: {name: 'applications-search-paging', params: {dataProvider: dataProvider, limits: limits, count: totalCount}}" class="applications-search-component"></div>
      <!-- /ko -->
      <!-- /ko -->

      <!-- ko if: noResults() || noApplications() -->
      <div class="applications-empty-state">
        <h1 data-bind="ltext: missingTitle"></h1>
        <p data-bind="ltext: missingDesc"></p>

        <div class="missing-wrapper">
          <div class="missing-inforequest-box app-type-box" data-bind="css: {'app-type-box-wide': !authorizationModel.ok('create-application-from-previous-permit')}">
            <h2 data-bind="ltext: 'applications.missing.inforequest.title'"></h2>
            <p data-bind="lhtml: 'applications.missing.inforequest.desc'"></p>
            <button
              data-bind="click: create"
              data-test-id="applications-create-new-inforequest"
              class="btn-primary application-create">
              <span data-bind="ltext: 'newRequest.newInforequest'"></span><span class="icon add left-align"></span>
            </button>
          </div>

          <div class="missing-application-box app-type-box" data-bind="css: {'app-type-box-wide': !authorizationModel.ok('create-application-from-previous-permit')}">
            <h2 data-bind="ltext: 'applications.missing.application.title'"></h2>
            <p data-bind="lhtml: 'applications.missing.application.desc'"></p>
            <button
              data-bind="click: create"
              data-test-id="applications-create-new-application"
              class="btn-primary application-create">
              <span data-bind="ltext: 'newRequest.newApplication'"></span><span class="icon add left-align"></span>
            </button>
          </div>

          <div class="missing-prev-permit-box app-type-box" data-bind="visible: authorizationModel.ok('create-application-from-previous-permit')">
            <h2 data-bind="ltext: 'applications.createWithPrevPermit.title'"></h2>
            <p data-bind="ltext: 'applications.createWithPrevPermit.desc'"></p>
            <button
              data-bind="click: createWithPrevPermit"
              data-test-id="applications-create-with-prev-permit"
              class="btn-primary application-create">
              <span data-bind="ltext: 'newRequest.createNewWithPrevPermit'"></span><span class="icon add left-align"></span>
            </button>
          </div>
        </div>
      </div>
      <!-- /ko -->
    </script>
  </section>
</body>
</html>
