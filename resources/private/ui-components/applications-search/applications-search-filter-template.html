<!DOCTYPE html>
<html>
<body>
  <section class="page container">
    <script type="text/x-jquery-tmpl" id="applications-search-filter-template">
    <div class="filter-row basic">
      <div class="filter-item">
        <label data-bind="ltext: 'application.filter.search'" />
        <div>
          <input class="search" type="text" data-bind="attr: {placeholder: loc('application.filter.search.placeholder')}, textInput: dataProvider.searchField"/>
          <span data-bind="visible: dataProvider.searchField, click: _.partial(dataProvider.searchField, ''), attr: {title: loc('applications.filter.search.clear')}" class="icon remove-grey"></span>
        </div>
      </div>
      <div class="filter-item" data-bind="if: lupapisteApp.models.currentUser.isAuthority()">
        <label data-bind="ltext: 'applications.filter.handler'" />
        <div data-test-id="handlers-filter-component" data-bind="component: {name: 'autocomplete-handlers', params: {selectedValues: dataProvider.handler}}"></div>
      </div>
      <!-- ko if: features.enabled('alueellisetOrganisaatiot-search') && lupapisteApp.models.currentUser.isAuthority() -->
      <div class="feature filter-item" data-bind="if: lupapisteApp.models.currentUser.isAuthority()">
        <a class="command" data-test-id="toggle-advanced-filters" data-bind="ltext: advancedFiltersText, toggleClick: showAdvancedFilters"></a>
        <!-- ko if: showAdvancedFilters() -->
        <button class="positive" data-test-id="save-advanced-filters" data-bind="click: saveAdvancedFilters">
          <i class="lupicon-circle-plus"></i>
          <span data-bind="ltext: 'applications.filter.advancedFilter.save'"></span>
        </button>
      <!-- /ko -->
      </div>
      <!-- /ko -->
    </div>
    <!-- ko if: features.enabled('alueellisetOrganisaatiot-search') && showAdvancedFilters() && lupapisteApp.models.currentUser.isAuthority() -->
    <div class="feature filter-row advanced">
      <div class="filter-item" data-test-id="tag-filter-item">
        <label data-bind="ltext: 'applications.filter.tags'" />
        <div data-test-id="tags-filter-component" data-bind="component: {name: 'autocomplete-tags', params: {selectedValues: dataProvider.tags}}"></div>
      </div>

      <div class="filter-item" data-test-id="operation-filter-item">
        <label data-bind="ltext: 'applications.filter.operations'" />
        <div data-test-id="operations-filter-component" data-bind="component: {name: 'autocomplete-operations', params: {selectedValues: dataProvider.operations}}"></div>
      </div>

      <div class="filter-item" data-test-id="organization-filter-item">
        <label data-bind="ltext: 'applications.filter.organizations'" />
        <div data-test-id="organization-filter-component" data-bind="component: {name: 'autocomplete-organizations', params: {selectedValues: dataProvider.organizations}}"></div>
      </div>

      <div class="filter-item">
        <label data-bind="ltext: 'applications.filter.areas'" />
        <div data-test-id="areas-filter-component" data-bind="component: {name: 'autocomplete-areas', params: {selectedValues: dataProvider.areas}}"></div>
      </div>
    </div>
    <!-- /ko -->
    </script>
  </section>
</body>
</html>
