<!DOCTYPE html>
<html>
<body>
  <section class="page container">
    <script type="text/x-jquery-tmpl" id="applications-search-filter-template">
    <div class="form-grid form-grid--no-border">
      <div class="row">
        <div class="col-1">
          <label data-bind="ltext: 'application.filter.search'"></label>
          <div class="search" data-bind="css: {toggled: dataProvider.searchField()}">
            <input type="text" data-bind="attr: {placeholder: loc('application.filter.search.placeholder')}, textInput: dataProvider.searchField"/>
            <i class="search-icon lupicon-search"></i>
            <i class="search-icon lupicon-remove toggle" data-bind="click: _.partial(dataProvider.searchField, ''), attr: {title: loc('applications.filter.search.clear')}"></i>
          </div>
        </div>
        <!-- ko if: features.enabled('alueellisetOrganisaatiot-search') && lupapisteApp.models.currentUser.isAuthority() -->
        <div class="col-2">
          <label data-bind="ltext: 'application.filter.search.select.saved.filter'"></label>
          <div data-bind="component: {name: 'autocomplete', params: {options: savedFilters, selectedOption: selectedFilter, query: query}}"></div>
        </div>
        <div class="col-1 stacked">
          <br/>
          <button class="secondary" data-test-id="toggle-advanced-filters" data-bind="toggleClick: showAdvancedFilters, css: {toggled: showAdvancedFilters}">
            <i class="lupicon-chevron-down"></i>
            <i class="lupicon-chevron-up toggle"></i>
            <span data-bind="ltext: advancedFiltersText"></span>
          </button>
        </div>
  <!--       <div class="feature filter-item">
          <button class="positive" data-test-id="save-advanced-filters" data-bind="click: saveAdvancedFilters">
            <i class="lupicon-circle-plus"></i>
            <span data-bind="ltext: 'applications.filter.advancedFilter.save'"></span>
          </button>
        </div>
   -->
        <!-- /ko -->
      </div>

      <!-- ko if: features.enabled('alueellisetOrganisaatiot-search') && showAdvancedFilters() && lupapisteApp.models.currentUser.isAuthority() -->
      <div class="row">
        <div class="col-2"  data-test-id="handler-filter-component">
          <label data-bind="ltext: 'applications.filter.handler'" />
          <div data-test-id="handlers-filter-component" data-bind="component: {name: 'autocomplete-handlers', params: {selectedValues: dataProvider.handler}}"></div>
        </div>

        <div class="col-2" data-test-id="tag-filter-item">
          <label data-bind="ltext: 'applications.filter.tags'" />
          <div data-test-id="tags-filter-component" data-bind="component: 'autocomplete-tags'"></div>
        </div>
      </div>

      <div class="row">
        <div class="col-4" data-test-id="operation-filter-item">
          <label data-bind="ltext: 'applications.filter.operations'" />
          <div data-test-id="operations-filter-component" data-bind="component: 'autocomplete-operations'"></div>
        </div>
      </div>

      <div class="row">
        <div class="col-2">
          <label data-bind="ltext: 'applications.filter.areas'" />
          <div data-test-id="areas-filter-component" data-bind="component: 'autocomplete-areas'"></div>
        </div>

        <!-- ko if: _.keys(lupapisteApp.models.currentUser.orgAuthz()).length > 1 -->
        <div class="col-2" data-test-id="organization-filter-item">
          <label data-bind="ltext: 'applications.filter.organizations'" />
          <div data-test-id="organization-filter-component" data-bind="component: 'autocomplete-organizations'"></div>
        </div>
        <!-- /ko -->
      </div>
      <!-- /ko -->

    </div>
    </script>
  </section>
</body>
</html>
