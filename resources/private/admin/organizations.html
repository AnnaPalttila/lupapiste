<!DOCTYPE html>
<html>
  <body>
    <section class="page" id="organizations">
      <div class="container">

        <h2>Organizations</h2>

        <table>
          <thead>
            <tr>
              <th data-bind="ltext: 'organization.name'"></th>
              <th data-bind="ltext: 'organization.inforequest.enabled'"></th>
              <th data-bind="ltext: 'organization.application.enabled'"></th>
              <th data-bind="ltext: 'edit'"></th>
            </tr>
          </thead>
          <tbody data-bind="foreach: organizationsModel.organizations">
            <tr>
              <td data-bind="text: $data.name[loc.getCurrentLanguage()]"></td>
              <td data-bind="text: $data['new-application-enabled']"></td>
              <td data-bind="text: $data['inforequest-enabled']"></td>
              <td>[<a href="#" data-bind="click: $parent.editOrganizationModel.open, ltext: 'edit'" data-test-id="edit-organization" class="modal"></a>]</td>
            </tr>
          </tbody>
        </table>

      </div>

      <div id="dialog-edit-organization" class="window autosized">
        <div data-bind="with: editOrganizationModel">
          <div class="dialog-header">
            <p data-bind="ltext: 'edit'"></p>
            <p class="dialog-close close">X</p>
          </div>

          <div class="dialog-content">

            <div>
              <div>
                <input type="checkbox" data-bind="checked: inforequestEnabled" data-test-id="inforequest-enabled" class="form-input"></input>
                <label class="form-label" data-bind ="ltext: 'organization.inforequest.enabled'"></label>
              </div>

              <div>
                <input type="checkbox" data-bind="checked: applicationEnabled" data-test-id="application-enabled" class="form-input"></input>
                <label class="form-label" data-bind ="ltext: 'organization.application.enabled'"></label>
              </div>

              <button data-bind="click: updateOrganization, enable: ok, disable: processing" class="btn btn-primary btn-dialog" data-test-id="save-organization">
                <span data-bind="ltext: 'save'"></span>
                <em data-bind="visible: pending" class="button-loader"></em>
              </button>

              <a data-bind="ltext: 'cancel'" class="btn-dialog close" href="#"></a>
            </div>

          </div>
        </div>
      </div>

    </section>
  </body>
</html>
