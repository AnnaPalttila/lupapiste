<!DOCTYPE html>
<html>
  <body>
    <section class="page" id="companies">
      <div class="container">

        <h2>Yritykset</h2>

        <table data-test-id="corporations-table">
          <thead>
            <tr>
              <th>Yritys</th>
              <th>Y-tunnus</th>
              <th>Osoite</th>
              <th>P&auml;&auml;k&auml;ytt&auml;j&auml;t</th>
              <th>Tilityyppi</th>
              <th>K&auml;ytt&auml;j&auml;m&auml;r&auml;</th>
              <th>Toiminnot</th>
            </tr>
          </thead>
          <tbody data-bind="foreach: { data: companiesModel.companies, as: 'company' }">
            <tr data-bind="attr: {'data-test-id': 'company-row-' + company.id}">
              <td data-bind="text: company.name"></td>
              <td data-bind="text: company.y"></td>
              <td>
              <span data-bind="text: company.address1"></span><br/>
              <span data-bind="text: company.zip"></span> <span data-bind="text: company.po"></span>
              </td>
              <td data-bind="foreach: company.admins">
                <div>
                  <span data-bind="fullName: $data"></span> / <span data-bind="text: $data.username"></span>
                </div>
              </td>
              <td data-bind="text: loc('register.company.' + company.accountType + '.title')"></td>
              <td data-bind="text: company.userLimit"></td>
              <td><a data-bind="click: company.openDialog" data-test-id="company-edit">Muokkaa</a></td>
            </tr>
          </tbody>
        </table>

        <button class="positive" data-bind="visible: false, click: companiesModel.create">Luo uusi yritys</button>

      </div>

    </section>
  </body>
</html>
