<!DOCTYPE html>
<html>
<body>
  <section class="page container" id="neighbors">
    <div id="neighbors-content" data-bind="if: lupapisteApp.models.rootVMO.currentPage() === 'neighbors'">

      <div class="map map-large" id="neighbors-map"></div>

      <table class="application-neighbors">
        <thead>
          <tr>
            <th data-bind="ltext: 'neighbors.propertyId'"></th>
            <th data-bind="ltext: 'neighbors.owner'"></th>
            <th data-bind="ltext: 'neighbors.status'"></th>
            <th data-bind="ltext: 'neighbors.actions'"></th>
          </tr>
        </thead>
        <tbody data-bind="foreach: neighbors">
          <tr data-bind="attr: {'data-test-id': 'manage-neighbors-email-' + owner.email}">
            <td data-bind="propertyId: propertyId"></td>
            <td data-bind="with: owner">
              <!-- ko if: nameOfDeceased -->
              <span data-bind="text: nameOfDeceased" class="owner-nameOfDeceased"></span>
              -<span data-bind="text: loc('neighbors.owner.type.kuolinpesa')"></span>
              <br/>
              <!-- /ko -->
              <span data-bind="text: name" class="owner-name"></span>
              <span data-bind="text: address.street" class="owner-street"></span>
              <span data-bind="text: address.zip" class="owner-zip"></span>
              <span data-bind="text: address.city" class="owner-city"></span>
              <span data-bind="text: email" class="owner-email"></span>
            </td>
            <td data-bind="with: _.last(status)">
              <span data-bind="text: loc(['neighbor.state', state])" class="status-state"></span>
              <span data-bind="dateTimeString: created" class="status-time"></span>
            </td>
            <td>
              <a data-bind="click: $root.edit, clickBubble: false, ltext: 'neighbors.actions.edit'" data-test-id="manage-neighbors-edit" href="#"></a>
              <a data-bind="click: $root.remove, clickBubble: false, ltext: 'neighbors.actions.remove'" data-test-id="manage-neighbors-remove"href="#"></a>
            </td>
          </tr>
        </tbody>
      </table>

      <button data-bind="click: $root.add, ltext: 'neighbors.add'" data-test-id="manager-neighbors-add" class="btn btn-primary modal"></button>
      <button data-bind="click: $root.done, ltext: 'neighbors.done'" data-test-id="manager-neighbors-done" class="btn"></button>

    </div>
  </section>

</body>
</html>
