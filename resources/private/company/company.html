<!DOCTYPE html>
<html lang="en">
<body>
  <section class="page container" id="company">

    <div id="company-content">
      <div data-bind="visible: pending">
        <em class="button-loader"></em>
        <span data-bind="ltext: 'company.loading'"></span>
      </div>

      <div data-bind="visible: !pending()">
        <h1>
          <span data-bind="text: name"></span>
          (<span data-bind="text: y"></span>)
        </h1>
        <table class="table table-striped">
          <thead>
            <tr>
              <th data-bind="ltext: 'company.user.firstName'"></th>
              <th data-bind="ltext: 'company.user.lastName'"></th>
              <th data-bind="ltext: 'company.user.email'"></th>
              <th data-bind="ltext: 'company.user.enabled'"></th>
              <th data-bind="ltext: 'company.user.role'"></th>
              <th data-bind="visible: isAdmin"></th>
            </tr>
          </thead>
          <tbody data-bind="foreach: users">
            <tr>
              <td data-bind="text: firstName"></td>
              <td data-bind="text: lastName"></td>
              <td data-bind="text: email"></td>
              <td data-bind="ltext: 'company.user.enabled.' + enabled()"></td>
              <td data-bind="ltext: 'company.user.role.' + role()"></td>
              <td data-bind="visible: opsEnabled">
                <a data-bind="click: toggleEnable, ltext: 'company.user.op.enabled.' + enabled()" href="#"></a>
                <a data-bind="click: toggleAdmin,  ltext: 'company.user.op.admin.' + admin()" href="#"></a>
                <a data-bind="click: deleteUser,   ltext: 'company.user.op.delete'" href="#"></a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div id="dialog-company-user-op" class="window autosized">
      <div class="dialog-header">
        <p data-bind="text: title"></p>
        <p class="dialog-close close">X</p>
      </div>
      <div class="dialog-content">

        <div>
          <span data-bind="html: message"></span>
        </div>

        <div data-bind="visible: pending">
          <em class="button-loader" style="position: relative;"></em>
          <span data-bind="ltext: 'company.user.op.pending'"></span>
        </div>

        <button data-bind="click: ok,
                           enable: !pending(),
                           ltext: 'yes'"
                class="btn btn-primary btn-dialog"
                data-test-id="dialog-company-user-op.ok">
        </button>
        <button data-bind="enable: !pending(),
                           ltext: 'no'"
                class="btn btn-dialog close">
        </button>

      </div>
    </div>

  </section>
</body>
</html>
