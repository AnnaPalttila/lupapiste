<!DOCTYPE html>
<html>
<body>
<section class="page" id="organization-calendars" >
  <div class="container">
    <section>
      <h2 data-bind="ltext: 'auth-admin.organization-calendars.calendars.title'"></h2>

      <table data-test-id="organization-calendars-user-calendars-table">
        <thead>
        <tr>
          <th data-bind="ltext: 'auth-admin.calendar.name'"></th>
          <th data-bind="ltext: 'auth-admin.calendar.inuse'"></th>
        </tr>
        </thead>
        <tbody data-bind="foreach: calendars.items">
        <tr>
          <td>
            <a data-bind="attr: {'href': '#!/calendar-admin/' + id + '/' + calendarId() },
                          visible: calendarEnabled">
              <span data-bind="text: lastName"></span>  <span data-bind="text: firstName"></span>
              (<span data-bind="text: email"></span>)
            </a>
            <span data-bind="ifnot: calendarEnabled">
              <span data-bind="text: lastName"></span>  <span data-bind="text: firstName"></span>
              (<span data-bind="text: email"></span>)
            </span>
          </td>
          <td>
            <input type="checkbox" class="form-input" id="calendar-enabled"
                   data-bind="checked: calendarEnabled,
                              enable: lupapisteApp.models.globalAuthModel.ok('set-calendar-enabled-for-authority')" />
          </td>
        </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2 data-bind="ltext: 'auth-admin.organization.reservation-types'"></h2>
      <table data-test-id="organization-reservation-types">
        <thead>
        <tr>
          <th data-bind="ltext: 'auth-admin.organization.reservation-type'"></th>
          <th data-bind="ltext: 'auth-admin.actions'"></th>
        </tr>
        </thead>
        <tbody data-bind="foreach: reservationTypes.items">
        <tr>
          <td data-bind="text: $data.name"></td>
          <td>FIXME</td>
        </tr>
        </tbody>
      </table>
      <a href="#" data-bind="click: reservationTypes.openNewReservationTypeDialog, ltext: 'auth-admin.organization.add-reservation-type'"
      data-test-id="add-reservation-type" class="modal btn btn-primary"></a>
    </section>

  </div>

  <!-- DIALOGS -->

  <div id="dialog-new-reservation-type" class="window autosized">
    <div class="dialog-header">
      <p data-bind="ltext: 'auth-admin.organization.add-reservation-type'"></p>
      <p class="dialog-close close lupicon-remove"></p>
    </div>
    <div class="dialog-content">
      <div data-bind="with: reservationTypes.newReservationTypeModel">
        <p data-bind="ltext: 'auth-admin.organization.reservation-type.name'"></p>
        <input type="text" data-bind="textInput: name" class="form-input text long" autofocus="autofocus"/>
        <button data-bind="click: execute, ltext: 'save'" class="btn btn-primary btn-dialog close"></button>
      </div>
    </div>
  </div>

</section>
</body>
</html>